<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy Properties</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css}">  
    <!-- FontAwesome CDN -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    
    <style>
   body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #2d1230;
    color: white;
}

/* Navbar */
.navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 50px;
    background: #2d1230;
    border-bottom: 2px solid gold;
}



.logo-img {
    width: 250px; /* Adjust the width as needed */
    height: auto; /* Maintain aspect ratio */
}


.navbar .nav-link:hover, 
        .navbar .nav-link.active {
            color: #ffc107;
            font-weight: bold;
            border-bottom: 2px solid #ffc107;
        }

.navbar ul {
    list-style: none;
    display: flex;
    margin: 0;
    padding: 0;
}

.navbar ul li {
    margin: 0 15px;
}

.navbar ul li a {
    text-decoration: none;
    color: white;
    font-weight: 500;
    transition: color 0.3s ease;
}

.navbar ul li a:hover {
    color: gold;
}


/* Heading Styles */
h2 {
    font-size: 36px;
    color: #DAA520; /* Dark Golden */
    margin-top: 20px;
    text-align: center;
}

.hero {
    text-align: center;
    padding: 120px 20px;
    position: relative;
    background: url('https://img.freepik.com/premium-photo/rooftop-view-metaverse-city-3d-render_84831-146.jpg?semt=ais_hybrid') no-repeat center center/cover;
    background-color: #000; /* Background color to blend into */
    background-size: cover;
    color: white; /* Text color */
    height: 70vh; /* Adjust height as needed */
    mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 70%, rgba(0, 0, 0, 0) 100%);
    -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 70%, rgba(0, 0, 0, 0) 100%);
    mask-size: 100% 100%;
    -webkit-mask-size: 100% 100%;
    overflow: hidden; /* Ensures content outside the container is hidden */
}



















.hero h1 {
    font-size: 48px;
    font-weight: bold;
    text-transform: uppercase;
    font-family: 'Poppins', sans-serif;
font-weight: 700; /* Bold headers */
font-style: italic; /* Normal text style */
text-shadow: 3px 3px 0px #FFD700, /* Golden layer */
                 6px 6px 0px rgba(0, 0, 0, 0.6); /* Dark shadow for depth */
transform: perspective(300px) rotateX(5deg);
 animation: floatText 3s ease-in-out infinite;
}

.hero h2{

    font-size: 48px;
    font-weight: bold;
    text-transform: uppercase;
    font-family: 'Poppins', sans-serif;
font-weight: 700; /* Bold headers */
font-style: italic; /* Normal text style */
text-shadow: 3px 3px 0px #FFFFFF, /* white layer */
                 6px 6px 0px rgba(0, 0, 0, 0.6); /* Dark shadow for depth */
transform: perspective(300px) rotateX(5deg);
 animation: floatText 3s ease-in-out infinite;
}

.hero h2 {
    color: gold;
}

.hero p{

font-weight: bold;
text-transform: uppercase;
font-family: 'Poppins', sans-serif;
font-weight: 700; /* Bold headers */
font-style: italic; /* Normal text style */
color: #FFD700;
 animation: floatText 3s ease-in-out infinite;

}


@keyframes floatText {
    0%, 100% { transform: perspective(300px) rotateX(10deg) translateY(0); }
    50% { transform: perspective(300px) rotateX(10deg) translateY(-5px); }
}

/* Filter Section */
form {
    background-color: rgba(255, 255, 255, 0.1); /* Translucent white */
    padding: 20px;
    border-radius: 8px;
    width: 80%;
    margin: 20px auto;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
}

form label {
    font-size: 18px;
    font-weight: bold;
    color: #DAA520;
}

form select, form input {
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #DAA520;
    background-color: #222;
    color: white;
    font-size: 16px;
    outline: none;
}

button {
    background-color: #DAA520;
    border: none;
    padding: 12px 20px;
    font-size: 18px;
    color: #1c1c1c;
    font-weight: bold;
    border-radius: 5px;
    cursor: pointer;
    transition: 0.3s ease;
}

button:hover {
    background-color: gold;
    color: white;
}

/* Property Listings Section */
h3 {
       font-family: 'Poppins', sans-serif;
font-weight: 500; /* Bold headers */
font-style: normal; /* Normal text style */
font-size: 2.8rem;
text-align: justify; /* Justify the paragraph text */
    text-justify: inter-word; /* Ensure words are spaced evenly */
    color:#FFD700;
    text-align: center;
    font-weight: bold;
}

ul {
    list-style: none;
    padding: 0;
}

/* Property Cards */
.card {
    background-color: rgba(0, 0, 0, 0.2);;
    border-radius: 12px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    margin: 20px auto;
    box-shadow: 0px 0px 10px rgba(255, 215, 0, 0.3);
    transition: transform 0.3s ease-in-out;
}

.card:hover {
    transform: scale(1.03);
}

.card-body {
    text-align: left;
    padding: 15px;
}

.card-body p{
color:white;
text-align:center;
}

.card-title {
    font-size: 24px;
    font-weight: bold;
    color: white;
    text-align:center;
}

.card-text {
    font-size: 16px;
    margin: 5px 0;
}

/* Image Slider (Carousel) */
.carousel {
    border-radius: 10px;
    overflow: hidden;
}

.carousel img {
    width: 100%;
    height: 250px;
    object-fit: cover;
    border-radius: 10px;   
}



.container h3{
text-align: center;
}

 .carousel {
        position: relative;
    }

    .carousel-inner img {
        transition: 0.3s ease-in-out;
    }

    .carousel:hover .carousel-inner img {
        filter: brightness(50%);
    }

    .carousel:hover .carousel-control-prev,
    .carousel:hover .carousel-control-next {
        display: flex !important;
    }

    .carousel-control-prev,
    .carousel-control-next {
        display: none;
        transition: 0.3s ease-in-out;
    }

/* Details Button */
.btn-primary {
    display: block;
    background-color: #DAA520;
    border: none;
    padding: 12px;
    text-align: center;
    width: 100%;
    border-radius: 5px;
    font-size: 18px;
    font-weight: bold;
    color: #1c1c1c;
    text-decoration: none;
    margin-top: 10px;
    transition: 0.3s ease;
}

.btn-primary:hover {
    background-color:gold;
    color:white;
}

.page-link{
color: #DAA520;

}



/* Footer Container */
footer {
    background-color: #240e29; /* Dark purple background */
    color: white;
    padding: 40px 60px;
    font-family: Arial, sans-serif;
}

.footer-container {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    flex-wrap: wrap;
}

/* Left Section: Logo & Tagline */
.footer-left {
    max-width: 250px;
}

.footer-logo {
    width: 180px; /* Adjust logo size */
}

.footer-tagline {
    font-size: 0.9rem;
    margin-top: 5px;
    opacity: 0.8;
}

/* Middle Section: Navigation Links */
.footer-middle {
    display: flex;
    gap: 40px;
}

.footer-column {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.footer-column a {
    color: white;
    text-decoration: none;
    font-size: 1rem;
    transition: color 0.3s ease-in-out;
}

.footer-column a:hover {
    color: gold;
}

/* Right Section: Location & Social Icons */
.footer-right {
    text-align: right;
}

.footer-location {
    font-size: 1rem;
    font-weight: bold;
}

.footer-address {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-bottom: 10px;
}

/* Social Icons */
.footer-social {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
    justify-content: flex-end;
}

.footer-social a {
    color: white;
    font-size: 1.5rem;
    transition: color 0.3s ease-in-out;
}

.footer-social a:hover {
    color: gold;
}

/* Call Us Button */
.call-us-button {
    border: 2px solid gold;
    padding: 10px 20px;
    border-radius: 30px;
    font-size: 1rem;
    background: transparent;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease-in-out;
}

.call-us-button:hover {
    background-color: gold;
    color: black;
}

/* Bottom Footer Section */
.footer-bottom {
    border-top: 2px solid gold;
    margin-top: 30px;
    padding-top: 15px;
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    opacity: 0.8;
}

.footer-links {
    display: flex;
    gap: 20px;
}

.footer-links a {
    color: white;
    text-decoration: none;
    transition: color 0.3s ease-in-out;
}

.footer-links a:hover {
    color: gold;
}



    
    </style>
    
     <script>
    function updateFilters() {
        let field = document.getElementById("field-select").value;

        // Hide all filter sections
        document.getElementById("residential-filters").style.display = "none";
        document.getElementById("commercial-filters").style.display = "none";
        document.getElementById("land-filters").style.display = "none";

        // Show the relevant filter section
        if (field === "Residential") {
            document.getElementById("residential-filters").style.display = "block";
        } else if (field === "Commercial") {
            document.getElementById("commercial-filters").style.display = "block";
        } else if (field === "Land") {
            document.getElementById("land-filters").style.display = "block";
        }
    }

    function cleanForm() {
        let field = document.getElementById("field-select").value;

        // Disable irrelevant inputs before submission
        document.querySelectorAll("#residential-filters select, #residential-filters input").forEach(el => el.disabled = (field !== "Residential"));
        document.querySelectorAll("#commercial-filters select, #commercial-filters input").forEach(el => el.disabled = (field !== "Commercial"));
        document.querySelectorAll("#land-filters select, #land-filters input").forEach(el => el.disabled = (field !== "Land"));

        return true; // Allow form submission
    }

    // Ensure correct filters are displayed on page load
    document.addEventListener("DOMContentLoaded", updateFilters);
</script>
</head>
<body>
<header class="navbar">
     <a class="logo" href="/">
                <img src="/img/logo.png" alt="Logo" class="logo-img">
            </a>
       
        <nav>
            <ul>
               <li class="nav-item">
                        <a class="nav-link" href="/" th:classappend="${page == 'home'} ? 'active' : ''">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about" th:classappend="${page == 'about'} ? 'active' : ''">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/contact}" th:classappend="${page == 'contact'} ? 'active' : ''">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/sell" th:classappend="${page == 'sell'} ? 'active' : ''">Sell</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/buy" th:classappend="${page == 'buy'} ? 'active' : ''">Buy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/rent" th:classappend="${page == 'rent'} ? 'active' : ''">Rent</a>
                    </li>
                     <li class="nav-item">
                        <a class="nav-link" href="/offplan" th:classappend="${page == 'offplan'} ? 'active' : ''">OffPlan</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/submitReview}" th:classappend="${page == 'submitReview'} ? 'active' : ''">Review</a>
                    </li>
            </ul>
        </nav>
        <div class="follow-us">Follow Us</div>
    </header>
 <section class="hero">
        <h1>DREAM PROPERTY</h1>
        <h2>FOR SALE</h2>
        <p>Lorem Ipsum is simply dummy text of the printing industry.</p>
        
    </section>
<div class="rentbody">

    
<!-- Filter Section -->
<form method="get" action="/buy" onsubmit="return cleanForm()">

    <label>Field:</label>
    <select name="field" id="field-select" onchange="updateFilters()">
        <option value="">Any</option>
        <option value="Residential" th:selected="${param.field == 'Residential'}">Residential</option>
        <option value="Commercial" th:selected="${param.field == 'Commercial'}">Commercial</option>
        <option value="Land" th:selected="${param.field == 'Land'}">Land</option>
    </select>

    <div id="residential-filters" style="display: none;">
        <label>Location:</label>
        <select name="">
            <option value="location">Any</option>
            <th:block th:each="location : ${availableLocations}">
                <option th:text="${location}" th:value="${location}" th:selected="${location == param.location}"></option>
            </th:block>
        </select>

        <label>Bedroom:</label>
        <select name="bedroom">
            <option value="">Any</option>
            <th:block th:each="bedroom : ${availableBedrooms}">
                <option th:text="${bedroom}" th:value="${bedroom}" th:selected="${bedroom == param.bedroom}"></option>
            </th:block>
        </select>

        <label>Faculty:</label>
        <select name="faculty">
            <option value="">Any</option>
            <th:block th:each="faculty : ${availableFaculties}">
                <option th:text="${faculty}" th:value="${faculty}" th:selected="${faculty == param.faculty}"></option>
            </th:block>
        </select>

        <label>Max Area:</label>
        <input type="number" name="MaxArea" th:value="${param.maxArea}" placeholder="Enter Max Area">
    </div>

    <div id="commercial-filters" style="display: none;">
        <label>Location:</label>
        <select name="location">
            <option value="">Any</option>
            <th:block th:each="location : ${availableLocations}">
                <option th:text="${location}" th:value="${location}" th:selected="${location == param.location}"></option>
            </th:block>
        </select>

        <label>Faculty:</label>
        <select name="faculty">
            <option value="">Any</option>
            <th:block th:each="faculty : ${availableFaculties}">
                <option th:text="${faculty}" th:value="${faculty}" th:selected="${faculty == param.faculty}"></option>
            </th:block>
        </select>

        <label>Max Area:</label>
        <input type="number" name="MaxArea" th:value="${param.maxArea}" placeholder="Enter Max Area">
    </div>

    <div id="land-filters" style="display: none;">
        <label>Location:</label>
        <select name="location">
            <option value="">Any</option>
            <th:block th:each="location : ${availableLocations}">
                <option th:text="${location}" th:value="${location}" th:selected="${location == param.location}"></option>
            </th:block>
        </select>

        <label>Max Area:</label>
        <input type="number" name="MaxArea" th:value="${param.maxArea}" placeholder="Enter Max Area">
    </div>

    <button type="submit">Apply Filters</button>
</form>





<div class="container">
    <h3>Available Properties</h3>
    <div class="row">
        <th:block th:each="group : ${filteredProperties}">
            <div class="col-md-4 mb-4">
                <div class="card">
                    <!-- Bootstrap Carousel for Image Slider -->
                    <div th:id="'carousel-' + ${group.imageId}" class="carousel slide" data-bs-ride="false">
                        <div class="carousel-inner">
                            <th:block th:each="image, iterStat : ${group.images}">
                                <div class="carousel-item" th:classappend="${iterStat.first} ? 'active' : ''">
                                    <img th:src="@{'/images/' + ${image.id}}" class="d-block w-100" alt="Image">
                                </div>
                            </th:block>
                        </div>

                        <!-- Carousel Controls -->
                        <button class="carousel-control-prev" type="button" th:data-bs-target="'#carousel-' + ${group.imageId}" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        </button>
                        <button class="carousel-control-next" type="button" th:data-bs-target="'#carousel-' + ${group.imageId}" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        </button>
                    </div>

                    <div class="card-body">
                        <h5 class="card-title" th:text="${group.name}"></h5>
                        <p class="card-text">Type: <span th:text="${group.type}"></span></p>
                        <p class="card-text">Bedroom: <span th:text="${group.bedroom}"></span></p>
                        <p class="card-text">Currency: <span th:text="${group.currency}"></span></p>

                        <a th:href="@{details/{id}(id=${group.imageId})}" class="btn btn-primary">Show Details</a>
                    </div>
                </div>
            </div>
        </th:block>
    </div>

    <!-- Pagination -->
<!-- Pagination -->
<div>
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            <!-- Previous Button -->
            <li class="page-item" th:if="${currentPage > 0}">
                <a class="page-link" 
                   th:href="@{/buy(page=${currentPage - 1}, field=${param.field}, location=${param.location}, bedroom=${param.bedroom}, faculty=${param.faculty}, maxArea=${param.maxArea})}">
                    Previous
                </a>
            </li>

            <!-- First 3 Pages -->
            <th:block th:each="i : ${#numbers.sequence(0, (totalPages > 3 ? 2 : totalPages - 1))}">
                <li class="page-item" th:classappend="${i == currentPage} ? 'active'">
                    <a class="page-link" 
                       th:href="@{/buy(page=${i}, field=${param.field}, location=${param.location}, bedroom=${param.bedroom}, faculty=${param.faculty}, maxArea=${param.maxArea})}"
                       th:text="${i + 1}">
                    </a>
                </li>
            </th:block>

            <!-- Ellipsis if there are more than 4 pages -->
            <li class="page-item disabled" th:if="${totalPages > 4 && currentPage < totalPages - 2}">
                <span class="page-link">...</span>
            </li>

            <!-- Last Page -->
            <li class="page-item" th:if="${totalPages > 3}">
                <a class="page-link" 
                   th:href="@{/buy(page=${totalPages - 1},field=${param.field}, location=${param.location}, bedroom=${param.bedroom}, faculty=${param.faculty}, maxArea=${param.maxArea})}"
                   th:text="${totalPages}">
                </a>
            </li>

            <!-- Next Button -->
            <li class="page-item" th:if="${currentPage + 1 < totalPages}">
                <a class="page-link" 
                   th:href="@{/buy(page=${currentPage + 1}, field=${param.field}, location=${param.location}, bedroom=${param.bedroom}, faculty=${param.faculty}, maxArea=${param.maxArea})}">
                    Next
                </a>
            </li>
        </ul>
    </nav>
</div>

</div>
</div>

  <footer>
    <div class="footer-container">
        <!-- Left Section: Logo -->
        <div class="footer-left">
            <img src="/img/logo.png" alt="logo-of-footer" class="footer-logo">
            <p class="footer-tagline">WHERE DREAMS MEET REALITY</p>
        </div>

        <!-- Middle Section: Navigation Links -->
        <div class="footer-middle">
            <div class="footer-column">
                <a href="#">Apartments</a>
                <a href="#">Penthouses</a>
                <a href="#">Villas</a>
                <a href="#">Townhouses</a>
                <a href="#">Off-Plan</a>
            </div>
            <div class="footer-column">
                <a href="#">Catalogs</a>
                <a href="#">Area Guides</a>
                <a href="#">Sell</a>
                <a href="#">Rent</a>
                <a href="#">Developers</a>
            </div>
            <div class="footer-column">
                <a href="#">Raqba Realty</a>
                <a href="#">Reviews</a>
                <a href="#">Careers</a>
                <a href="#">Contact Us</a>
            </div>
        </div>

        <!-- Right Section: Contact Info & Social Icons -->
        <div class="footer-right">
            <p class="footer-location"><strong>Dubai, UAE</strong></p>
            <p class="footer-address">Al Bahar Building, Al Khabesi Area, Deira</p>
            
            <div class="footer-social">
                <a href="#"><i class="fas fa-envelope"></i></a>
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-x-twitter"></i></a>
                <a href="#"><i class="fab fa-whatsapp"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
            </div>

            <button class="call-us-button">Call Us</button>
        </div>
    </div>

    <!-- Bottom Footer Section -->
    <div class="footer-bottom">
        <p>RAQBA REALTY ©2025, All Rights Reserved</p>
        <div class="footer-links">
            <a href="#">Terms of Use</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Sitemap</a>
        </div>
    </div>
</footer>

<!-- Bootstrap JS + Popper.js -->
<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js}"></script>

</body>
</html>
